<html>

<head>
<title>Testi</title>
<script type="text/javascript" src="gl-matrix.js"></script>
<script type="text/javascript" src="webgl-utils.js"></script>

<script type="text/javascript">
var indexes = [0, 1, 2, -1, 0, 2, 3, -1, 1, 0, 4, -1, 0, 3, 4, -1, 3, 2, 4, -1, 2, 1, 4, -1];
var coords = [0, 0, 0, 5, 0, 0, 5, 0, 5, 0, 0, 5, 2.5, 5, 2.5,];

var counter = 0;
var fullCoords = [];
for (var i in indexes) {
	var indexNum = indexes[i];
	counter++;
	if(indexNum != -1) {
		for (var j = 0 ; j<3; j++ ) {
			fullCoords.push(coords[3*indexNum+j]);
		}
	}
}
 var normals = [];
 var vector1 = vec3.create();
 var vector2 = vec3.create();
 var cross = vec3.create;
 var normal = vec3.create();
for (var i=0; i<fullCoords.length; i+=9) {
	vec3.set(vector1, fullCoords[i+6]-fullCoords[i], fullCoords[i+7]-fullCoords[i+1], fullCoords[i+8]-fullCoords[i+2]);
	vec3.set(vector2, fullCoords[i+3]-fullCoords[i], fullCoords[i+4]-fullCoords[i+1], fullCoords[i+5]-fullCoords[i+2]);
	/*alert(fullCoords[i+6]+" "+fullCoords[i]);
	alert(fullCoords[i+7]+" "+fullCoords[i+1]);
	alert(fullCoords[i+8]+" "+fullCoords[i+2]);
	alert(fullCoords[i+3]+" "+fullCoords[i]);
	alert(fullCoords[i+4]+" "+fullCoords[i+1]);
	alert(fullCoords[i+5]+" "+fullCoords[i+2]);
	alert("Vec1: "+vector1[0]+" "+vector1[1]+" "+vector1[2]);
	alert("Vec2: "+vector2[0]+" "+vector2[1]+" "+vector2[2]);*/
	vec3.cross(cross, vector2, vector1);
	vec3.normalize(normal, cross);
	normals.push(normal[0]);
	normals.push(normal[1]);
	normals.push(normal[2]);
	normals.push(normal[0]);
	normals.push(normal[1]);
	normals.push(normal[2]);
	normals.push(normal[0]);
	normals.push(normal[1]);
	normals.push(normal[2]);
}

alert(fullCoords);

</script>
</head>

<body>
</body>
</html>